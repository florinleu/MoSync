<!DOCTYPE html>
<!--
  This a very simple example of how to communicate between
  JavaScript and C++. The program has a buttons for starting
  and stopping tracking the location of the device. When location
  is tracked, location events are captured on the C++ sice and
  the current location is then sent to the JavaScript side. 
-->
<html>
<head>
	<script>
	function StartTrackingGeoLocation()
	{
		SetLocationStatus("Location tracking started");
		SetLocationData("");

		// This results in MoSync C++ code being called.
		document.location = "mosync://StartTrackingGeoLocation";
	}

	function StopTrackingGeoLocation()
	{
		SetLocationStatus("Location tracking stopped");
		SetLocationData("");

		// This results in MoSync C++ code being called.
		document.location = "mosync://StopTrackingGeoLocation";
	}

	function SetLocationStatus(message)
	{
		document.getElementById("LocationStatus").innerHTML = message;
	}

	function SetLocationData(message)
	{
		document.getElementById("LocationData").innerHTML = message;
	}

	function GeoLocationUpdated(lat, lon)
	{
		SetLocationData("Latitude: " + lat + "<br />Longitude: " + lon);
	}
	</script>
</head>
<body>
	<div>
		<h2>Location Tracker</h2>
	</div>
	<div>
		<input type="button" value="Start" onclick="StartTrackingGeoLocation()" />
		<input type="button" value="Stop" onclick="StopTrackingGeoLocation()" />
	</div>
	<div>
		<p id="LocationStatus"></p>
	</div>
	<div>
		<p id="LocationData"></p>
	</div>
</body>
</html>
